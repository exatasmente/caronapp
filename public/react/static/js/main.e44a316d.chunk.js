(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,n,t){e.exports=t.p+"static/media/logo.3762619f.svg"},42:function(e,n,t){e.exports=t(74)},47:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(30),i=t.n(o),c=(t(47),t(40)),l=t(0),u=t(15),s=t(9),p=t.n(s),d=t(14),m=t(31),f=t(32),h=t(39),g=t(33),b=t(41),x=t(34),v=function(){return localStorage.getItem("@caronapp-Token")},w=function(e){return localStorage.setItem("@caronapp-Token",e)},E=function(e){return w(e)},k={base:"cliente",cadastro:"cliente/cadastro",login:"cliente/login",destino:"cliente/destino",viagem:"cliente/viagem",carona:"cliente/carona"},y=t.n(x).a.create({baseURL:"http://127.0.0.1:3333/api/v1/"});y.interceptors.request.use(function(){var e=Object(d.a)(p.a.mark(function e(n){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=v())&&(n.headers.Authorization="Bearer "+t),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}());var j=y,O=t(35),S=t.n(O),z=t(11),C=t(12);function A(){var e=Object(z.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return A=function(){return e},e}function U(){var e=Object(z.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return U=function(){return e},e}var B=C.b.div(U()),I=C.b.form(A()),L=function(e){function n(){var e,t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",error:""},t.handleSignUp=function(){var e=Object(d.a)(p.a.mark(function e(n){var a,r,o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=t.state,r=a.username,o=a.email,i=a.password,r&&o&&i){e.next=6;break}t.setState({error:"Preencha todos os dados para se cadastrar!"}),e.next=15;break;case 6:return e.prev=6,e.next=9,j.post(k.cadastro,{username:r,email:o,password:i}).then(function(e){201===e.status&&(alert("Usu\xe1rio criado!"),j.post("session").then(function(e){201===e.status&&E(e.data.token)}))});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0),t.setState({error:"Ocorreu um erro ao registrar sua conta. :("});case 15:case"end":return e.stop()}},e,null,[[6,11]])}));return function(n){return e.apply(this,arguments)}}(),t}return Object(b.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(B,null,r.a.createElement(I,{onSubmit:this.handleSignUp},r.a.createElement("img",{src:S.a,alt:"caronapp logo"}),this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Nome de usu\xe1rio",onChange:function(n){return e.setState({username:n.target.value})}}),r.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(n){return e.setState({email:n.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(n){return e.setState({password:n.target.value})}}),r.a.createElement("button",{type:"submit"},"Cadastrar gr\xe1tis"),r.a.createElement("hr",null),r.a.createElement(u.b,{to:"/"},"Fazer login")))}}]),n}(a.Component),H=function(e){var n=e.component,t=Object(c.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},t,{render:function(e){return null!==v()?r.a.createElement(n,e):r.a.createElement(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},J=function(){return r.a.createElement(u.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:function(){return r.a.createElement("h1",null,"Login")}}),r.a.createElement(l.b,{path:"/cadastro",component:L}),r.a.createElement(H,{path:"/app",component:function(){return r.a.createElement("h1",null,"App")}}),r.a.createElement(l.b,{path:"*",component:r.a.createElement("h1",null,"Page not found")})))};t(72);function N(){var e=Object(z.a)(["\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n"]);return N=function(){return e},e}Object(C.a)(N());var P=function(){return r.a.createElement(J,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,2,1]]]);
//# sourceMappingURL=main.e44a316d.chunk.js.map