(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,n,t){e.exports=t.p+"static/media/logo.3762619f.svg"},42:function(e,n,t){e.exports=t(74)},47:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(36),i=t.n(o),c=(t(47),t(41)),l=t(0),s=t(13),u=t(7),p=t.n(u),d=t(11),m=t(16),f=t(17),h=t(20),g=t(18),b=t(21),x=t(37),v=function(){return localStorage.getItem("@caronapp-Token")},w=function(e){return localStorage.setItem("@caronapp-Token",e)},E=function(e){return w(e)},y={base:"cliente",cadastro:"cliente/cadastro",login:"session",destino:"cliente/destino",viagem:"cliente/viagem",carona:"cliente/carona"},k=t.n(x).a.create({baseURL:"http://127.0.0.1:3333/api/v1/"});k.interceptors.request.use(function(){var e=Object(d.a)(p.a.mark(function e(n){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=v())&&(n.headers.Authorization="Bearer "+t),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}());var j=k,O=t(19),S=t.n(O),z=t(8),C=t(9);function A(){var e=Object(z.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return A=function(){return e},e}function L(){var e=Object(z.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return L=function(){return e},e}var N=C.b.div(L()),B=C.b.form(A()),I=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).state={username:"",email:"",password:"",error:""},t.handleSignUp=function(){var e=Object(d.a)(p.a.mark(function e(n){var r,a,o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,a=r.username,o=r.email,i=r.password,a&&o&&i){e.next=6;break}t.setState({error:"Preencha todos os dados para se cadastrar!"}),e.next=15;break;case 6:return e.prev=6,e.next=9,j.post(y.cadastro,{username:a,email:o,password:i}).then(function(e){201===e.status&&t.props.history.push("/")});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0),t.setState({error:"Ocorreu um erro ao registrar sua conta. :("});case 15:case"end":return e.stop()}},e,null,[[6,11]])}));return function(n){return e.apply(this,arguments)}}(),t}return Object(b.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(N,null,a.a.createElement(B,{onSubmit:this.handleSignUp},a.a.createElement("img",{src:S.a,alt:"caronapp logo"}),this.state.error&&a.a.createElement("p",null,this.state.error),a.a.createElement("input",{type:"text",placeholder:"Nome de usu\xe1rio",onChange:function(n){return e.setState({username:n.target.value})}}),a.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(n){return e.setState({email:n.target.value})}}),a.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(n){return e.setState({password:n.target.value})}}),a.a.createElement("button",{type:"submit"},"Cadastrar gr\xe1tis"),a.a.createElement("hr",null),a.a.createElement(s.b,{to:"/"},"Fazer login")))}}]),n}(r.Component);function P(){var e=Object(z.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return P=function(){return e},e}function U(){var e=Object(z.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return U=function(){return e},e}var q=C.b.div(U()),D=C.b.form(P()),H=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).state={username:"",password:"",error:""},t.handleLogin=function(){var e=Object(d.a)(p.a.mark(function e(n){var r,a,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,a=r.username,o=r.password,a&&o){e.next=6;break}t.setState({error:"Preencha todos os campos para realizar o login!"}),e.next=15;break;case 6:return e.prev=6,e.next=9,j.post(y.login,{username:a,password:o}).then(function(e){201===e.status&&(console.log(e.data),console.log(e.token),console.log(e.body),E(e.data.token),t.props.history.push("/app"))});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0),t.setState({error:"Ocorreu um erro ao realizar o login."});case 15:case"end":return e.stop()}},e,null,[[6,11]])}));return function(n){return e.apply(this,arguments)}}(),t}return Object(b.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(q,null,a.a.createElement(D,{onSubmit:this.handleLogin},a.a.createElement("img",{src:S.a,alt:"caronapp logo"}),this.state.error&&a.a.createElement("p",null,this.state.error),a.a.createElement("input",{type:"text",placeholder:"Nome de usu\xe1rio",onChange:function(n){return e.setState({username:n.target.value})}}),a.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(n){return e.setState({password:n.target.value})}}),a.a.createElement("button",{type:"submit"},"Login"),a.a.createElement("hr",null),a.a.createElement(s.b,{to:"/"},"Novo aqui? Cadastrar-se.")))}}]),n}(r.Component),J=function(e){var n=e.component,t=Object(c.a)(e,["component"]);return a.a.createElement(l.b,Object.assign({},t,{render:function(e){return null!==v()?a.a.createElement(n,e):a.a.createElement(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},T=function(){return a.a.createElement(s.a,null,a.a.createElement(l.d,null,a.a.createElement(l.b,{exact:!0,path:"/",component:H}),a.a.createElement(l.b,{path:"/cadastro",component:I}),a.a.createElement(J,{path:"/app",component:function(){return a.a.createElement("h1",null,"App")}}),a.a.createElement(l.b,{path:"*",component:a.a.createElement("h1",null,"Page not found")})))};t(72);function W(){var e=Object(z.a)(["\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n"]);return W=function(){return e},e}Object(C.a)(W());var F=function(){return a.a.createElement(T,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,2,1]]]);
//# sourceMappingURL=main.60af1e1b.chunk.js.map