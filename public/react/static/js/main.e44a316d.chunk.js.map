{"version":3,"sources":["logo.svg","services/auth.js","configs/api.js","services/api.js","pages/Cadastro/styles.js","pages/Cadastro/index.js","routes.js","styles/global.js","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","getToken","localStorage","getItem","setToken","token","setItem","login","ROUTE_CLIENTE","base","cadastro","destino","viagem","carona","api","axios","create","baseURL","interceptors","request","use","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","config","wrap","_context","prev","next","headers","Authorization","abrupt","stop","_x","apply","this","arguments","Container","styled","div","_templateObject","Form","form","_templateObject2","SignUp","state","username","email","password","error","handleSignUp","e","_this$state","preventDefault","_this","setState","post","then","response","status","alert","data","t0","console","log","_this2","react_default","createElement","onSubmit","src","Logo","alt","type","placeholder","onChange","target","value","react_router_dom","to","Component","PrivateRoute","component","rest","objectWithoutProperties","react_router","assign","render","props","pathname","from","location","Routes","exact","path","routes_PrivateRoute","createGlobalStyle","global_templateObject","App","routes","Boolean","window","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e44a316d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3762619f.svg\";","export const TOKEN_KEY = \"@caronapp-Token\";\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\nexport const setToken = (token) => localStorage.setItem(TOKEN_KEY,token);\nexport const isAuthenticated = () => getToken() !== null;\nexport const login = (token) => setToken(token);\nexport const logout = () => setToken(null);","export const API_URL = \"http://127.0.0.1:3333/api/v1/\"\nexport const ROUTE_CLIENTE = {\n    base:\"cliente\",\n    cadastro:\"cliente/cadastro\",\n    login:\"cliente/login\",\n    destino:\"cliente/destino\",\n    viagem:\"cliente/viagem\",\n    carona:\"cliente/carona\"\n};\nexport const ROUTE_MOTORISTA = {\n    base:\"motorista\",\n    cadastro:\"motorista/cadastro\",\n    login:\"motorista/login\",\n    destino:\"motorista/destino\",\n    viagem:\"motorista/viagem\",\n    carona:\"motorista/carona\",\n    veiculo:\"motorista/veiculo\"\n};","import axios from \"axios\"\nimport { getToken } from \"./auth\"\nimport { API_URL } from \"../configs/api\"\nconst api = axios.create({ \n    baseURL: API_URL\n})\napi.interceptors.request.use(async config => {\n    const token = getToken();\n    if(token){\n        config.headers.Authorization = 'Bearer '+ token;\n    }\n    return config;\n})\nexport default api;","\n\nimport styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`;\n\nexport const Form = styled.form`\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n`;","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport api from \"../../services/api\";\n\nimport Logo from \"../../logo.svg\";\n\nimport { Form, Container } from \"./styles\";\nimport { API_URL, ROUTE_CLIENTE } from \"../../configs/api\";\nimport { login } from \"../../services/auth\";\n\nclass SignUp extends Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleSignUp = async e => {\n    e.preventDefault();\n    const { username, email, password } = this.state;\n    if (!username || !email || !password) {\n      this.setState({ error: \"Preencha todos os dados para se cadastrar!\" });\n    } else {\n      try {\n        await api.post(ROUTE_CLIENTE.cadastro, { username, email, password }).then((response)=>{\n          if(response.status === 201){\n            alert(\"Usuário criado!\")\n            api.post(\"session\").then((response)=>{\n              if(response.status === 201){\n                login(response.data.token)\n              }\n            })\n          }\n        });\n       /// this.props.history.push(\"/\");\n      } catch (err) {\n        console.log(err);\n        this.setState({ error: \"Ocorreu um erro ao registrar sua conta. :(\" });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <Container>\n        <Form onSubmit={this.handleSignUp}>\n          <img src={Logo} alt=\"caronapp logo\" />\n          {this.state.error && <p>{this.state.error}</p>}\n          <input\n            type=\"text\"\n            placeholder=\"Nome de usuário\"\n            onChange={e => this.setState({ username: e.target.value })}\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Endereço de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <button type=\"submit\">Cadastrar grátis</button>\n          <hr />\n          <Link to=\"/\">Fazer login</Link>\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default SignUp;","import React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport SignUp from \"./pages/Cadastro\";\nimport { isAuthenticated } from \"./services/auth\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\n      )\n    }\n  />\n);\n\nconst Routes = () => (\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\" component={() => <h1>Login</h1>} />\n      <Route path=\"/cadastro\" component={ SignUp }/>\n      <PrivateRoute path=\"/app\" component={() => <h1>App</h1>} />\n      <Route path=\"*\" component={ <h1>Page not found</h1>} />\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default Routes;","import { createGlobalStyle } from 'styled-components'\n\n\n\n\nimport \"font-awesome/css/font-awesome.css\";\n\nconst GlobalStyle = createGlobalStyle`\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n`;","import React from \"react\";\nimport Routes from \"./routes\";\nimport \"./styles/global\";\n\nconst App = () => <Routes />;\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}